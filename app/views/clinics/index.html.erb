<div class="container pt-3">
  <!-- クリニック一覧 -->
  <div class="row">
    <div class="col-12">
      <div class="col-lg-5 mb-3">
        <%= render 'search_form', q: @q, url: clinics_path %>
      </div>

      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
        <% if @clinics.present? %>
          <% @clinics.each do |clinic| %>
            <div class="col">
              <div class="card shadow-sm" id="clinic-id-<%= clinic.id %>">
                <% if clinic.url.present? %>
                  <%= image_tag "https://s.wordpress.com/mshots/v1/#{clinic.url}?w=300", 
                                class: "card-img-top", 
                                width: "100%", 
                                height: "225" %>
                <% else %>
                  <%= image_tag "board_placeholder.png", 
                                class: "card-img-top", 
                                width: "100%", 
                                height: "225" %>
                <% end %>

                <div class="card-body">
                  <p class="card-text">
                    <%= link_to clinic.clinic_name, clinic_path(clinic), class: "text-decoration-none fw-bold" %>
                  </p>
                  <div class="d-flex justify-content-between align-items-center">
                    <div class="btn-group">
                      <%= link_to "詳細", clinic_path(clinic), class: "btn btn-sm btn-outline-secondary" %>
                      <% if current_user.own?(clinic) %>
                        <%= link_to "編集", edit_clinic_path(clinic), 
                                    class: "btn btn-sm btn-outline-secondary", 
                                    id: "button-edit-#{clinic.id}" %>
                        <%= button_to "削除", clinic_path(clinic), 
                                      method: :delete, 
                                      data: { turbo_confirm: "本当に削除しますか？" }, 
                                      class: "btn btn-sm btn-outline-danger", 
                                      id: "button-delete-#{clinic.id}" %>
                      <% end %>
                    </div>
                    
                  </div>
                </div>
              </div>
            </div>
          <% end %>
        <% else %>
          <div class="mb-3">登録したクリニックがありません</div>
        <% end %>
      </div>
    </div>
  </div>
</div>

